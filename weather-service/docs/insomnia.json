{"_type":"export","export_format":4,"export_date":"2025-02-14T00:00:00.000Z","resources":[{"_id":"wrk_weather_service","_type":"workspace","name":"My API","created":1710000000000,"modified":1710000000000},{"_id":"env_base","_type":"environment","parentId":"wrk_weather_service","name":"Base Environment","created":1710000000000,"modified":1710000000000,"data":{"base_url":"http://localhost:3000","token":"","internal_token":"56f2fdee0dc0f8b1c240da7fb0e3881bc8fcdebe3addbf67f43e4aa01bca769c"}},{"_id":"env_dev","_type":"environment","parentId":"env_base","name":"Dev","created":1710000000000,"modified":1710000000000,"data":{"base_url":"http://localhost:3000","token":"","internal_token":"56f2fdee0dc0f8b1c240da7fb0e3881bc8fcdebe3addbf67f43e4aa01bca769c"}},{"_id":"fld_auth","_type":"request_group","parentId":"wrk_weather_service","name":"Auth","created":1710000000000,"modified":1710000000000},{"_id":"fld_core","_type":"request_group","parentId":"wrk_weather_service","name":"Core","created":1710000000000,"modified":1710000000000},{"_id":"fld_misc","_type":"request_group","parentId":"wrk_weather_service","name":"Misc","created":1710000000000,"modified":1710000000000},{"_id":"req_healthz","_type":"request","parentId":"fld_misc","name":"GET /healthz","created":1710000000000,"modified":1710000000000,"method":"GET","url":"{{ _.base_url }}/healthz","headers":[{"name":"Accept","value":"application/json"}],"parameters":[],"authentication":{"type":"none"},"scripts":{"preRequest":"","afterResponse":"const status = response.getStatusCode();\nif (![200].includes(status)) {\n  throw new Error(`Unexpected status: ${status}`);\n}\nconst body = response.getBody();\nlet json;\ntry {\n  json = JSON.parse(body);\n} catch (err) {\n  throw new Error('Response is not valid JSON');\n}\nif (typeof json !== 'object' || json === null || Array.isArray(json)) {\n  throw new Error('Expected JSON object');\n}\nif (!('status' in json)) {\n  throw new Error('Missing field: status');\n}\n"}},{"_id":"req_readyz","_type":"request","parentId":"fld_misc","name":"GET /readyz","created":1710000000000,"modified":1710000000000,"method":"GET","url":"{{ _.base_url }}/readyz","headers":[{"name":"Accept","value":"application/json"}],"parameters":[],"authentication":{"type":"none"},"scripts":{"preRequest":"","afterResponse":"const status = response.getStatusCode();\nif (![200, 503].includes(status)) {\n  throw new Error(`Unexpected status: ${status}`);\n}\nconst body = response.getBody();\nlet json;\ntry {\n  json = JSON.parse(body);\n} catch (err) {\n  throw new Error('Response is not valid JSON');\n}\nif (typeof json !== 'object' || json === null || Array.isArray(json)) {\n  throw new Error('Expected JSON object');\n}\nif (!('status' in json)) {\n  throw new Error('Missing field: status');\n}\n"}},{"_id":"req_onecall","_type":"request","parentId":"fld_core","name":"GET /v1/onecall","created":1710000000000,"modified":1710000000000,"method":"GET","url":"{{ _.base_url }}/v1/onecall","headers":[{"name":"Accept","value":"application/json"},{"name":"X-Internal-Token","value":"{{ _.internal_token }}"}],"parameters":[{"name":"lat","value":"48.8566"},{"name":"lon","value":"2.3522"},{"name":"units","value":"metric"},{"name":"lang","value":"en"},{"name":"raw","value":"0"}],"authentication":{"type":"none"},"scripts":{"preRequest":"","afterResponse":"const status = response.getStatusCode();\nconst allowed = [200, 400, 401, 429, 500, 502];\nif (!allowed.includes(status)) {\n  throw new Error(`Unexpected status: ${status}`);\n}\nconst body = response.getBody();\nlet json;\ntry {\n  json = JSON.parse(body);\n} catch (err) {\n  throw new Error('Response is not valid JSON');\n}\nif (typeof json !== 'object' || json === null || Array.isArray(json)) {\n  throw new Error('Expected JSON object');\n}\nif (status === 200) {\n  const required = ['meta', 'location', 'current', 'hourly'];\n  for (const key of required) {\n    if (!(key in json)) {\n      throw new Error(`Missing field: ${key}`);\n    }\n  }\n} else if (status === 400) {\n  const required = ['error_code', 'message', 'request_id', 'details'];\n  for (const key of required) {\n    if (!(key in json)) {\n      throw new Error(`Missing field: ${key}`);\n    }\n  }\n} else if (status === 429) {\n  const required = ['error_code', 'message', 'request_id', 'retry_after_s'];\n  for (const key of required) {\n    if (!(key in json)) {\n      throw new Error(`Missing field: ${key}`);\n    }\n  }\n} else {\n  const required = ['error_code', 'message', 'request_id'];\n  for (const key of required) {\n    if (!(key in json)) {\n      throw new Error(`Missing field: ${key}`);\n    }\n  }\n}\n"}}]}
